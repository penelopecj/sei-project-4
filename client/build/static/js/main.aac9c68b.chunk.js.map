{"version":3,"sources":["components/lib/auth.js","components/common/Nav.js","components/lib/api.js","components/PieSlider.js","components/common/Home.js","components/Profile.js","components/Wishlist.js","utils/useForm.js","components/auth/Login.js","components/auth/Register.js","utils/useEditQuantityForm.js","components/Basket.js","components/Index.js","components/Show.js","components/PieForm.js","utils/useCheckboxForm.js","components/PieCreate.js","components/PieCategories.js","App.js","index.js"],"names":["getToken","window","localStorage","getItem","getPayload","token","parts","split","length","JSON","parse","atob","isAuthenticated","payload","Math","round","Date","now","exp","Nav","useLocation","isLoggedIn","history","useHistory","to","className","onClick","removeItem","push","headers","Authorization","baseUrl","getAllPies","axios","get","createPie","formdata","post","getSinglePie","id","getSingleUser","editUser","put","registerUser","loginUser","getAllBasketItems","createBasketItem","pie","updateBasketItem","addReview","deleteReview","reviewId","delete","getAllCategories","PieSlider","React","useState","pies","setPies","hasError","setHasError","useEffect","a","data","console","log","getPies","myPies","i","arrayPies","dots","infinite","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","pauseOnHover","map","src","image","name","Home","Profile","user","setUser","getData","firstName","lastName","profileImage","alt","username","email","address","phoneNumber","Wishlist","favourites","fav","price","toFixed","description","useForm","initialState","setFormdata","errors","setErrors","handleChange","event","value","target","type","nextState","nextErrorState","Login","error","setError","password","handleSubmit","preventDefault","setItem","handleFocus","Form","onSubmit","Field","placeholder","onChange","onFocus","Button","Register","passwordConfirmation","response","Divider","Group","passWordConfirmation","useEditQuantityForm","checked","editingArray","quantity","Basket","basketItems","setBasketItems","handleRemoveFromBasket","handleEditFromBasket","parseInt","handleAddToWishlist","favIds","sub","item","index","product","categories","category","max","min","reduce","acc","curr","Index","setCategories","handleFilterPies","results","filter","includes","handleClearFilter","Show","setPie","useParams","text","rating","owner","handleAddToBasket","handleAddReview","handleDeleteReview","Comment","reviews","review","Avatar","Content","Metadata","createdAt","slice","Text","repeat","PieForm","formdataCategories","stringify","some","object","useCheckoutForm","PieCreate","useCheckboxForm","unPopulatedCategories","PieCategories","activeCategory","filterPies","e","filteredPies","innerHTML","itemHeights","randomIndex","floor","random","randomHeight","Container","categoryTag","component","columnWidth","gutterWidth","gutterHeight","layout","pinterest","duration","columns","easing","itemHeight","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aac9c68b.chunk.js","sourcesContent":["export function setToken(token) {\n  window.localStorage.setItem('token', token)\n}\n\nexport function getToken() {\n  return window.localStorage.getItem('token')\n}\n\nexport function logout() {\n  window.localStorage.removeItem('token')\n}\n\nexport function getPayload() {\n  const token = getToken()\n  if (!token) return false\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  return JSON.parse(atob(parts[1]))\n}\n\n\nexport function isAuthenticated() {\n  const payload = getPayload()\n  if (!payload) return false\n  const now = Math.round(Date.now() / 1000)\n  return now < payload.exp\n}\n\nexport function isOwner(userId) {\n  const payload = getPayload()\n  if (!payload) return false\n  return userId === payload.sub\n}\n","import React from 'react'\nimport { Link, useLocation, useHistory } from 'react-router-dom'\nimport { isAuthenticated, logout } from '../lib/auth'\n// import { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar'\n// import 'react-pro-sidebar/dist/css/styles.css'\n// import { slide as Menu } from 'react-burger-menu'\n\n\n\n\nfunction Nav() {\n  useLocation()\n  const isLoggedIn = isAuthenticated()\n  const history = useHistory()\n\n  const handleLogout = () => {\n    logout()\n    history.push('/') // logs out & returns user to homepage\n  }\n\n  return (\n    // <nav>\n    //   {/* <ProSidebar>\n    //     <Menu iconShape=\"square\">\n    //       <MenuItem >Dashboard</MenuItem>\n    //       <SubMenu title=\"Components\" >\n    //         <MenuItem>Category 1</MenuItem>\n    //         <MenuItem>Category 2</MenuItem>\n    //       </SubMenu>\n    //     </Menu>\n    //   </ProSidebar> */}\n    //   {/* <Menu>\n    //     <a id=\"home\" className=\"menu-item\" href=\"/\">Home</a>\n    //     <a id=\"about\" className=\"menu-item\" href=\"/category1\">Category 1</a>\n    //     <a id=\"contact\" className=\"menu-item\" href=\"/category2\">Category 2</a>\n    //   </Menu> */}\n    // </nav>\n    <nav>\n      <Link to=\"/\">\n        <div className=\"logo\">\n          <span>\n            <p>PIEKEA</p>\n            <small>®</small>\n          </span>\n        </div>\n      </Link>\n      <section>\n        <Link to=\"/pies\">\n          {/* <p>All Pies</p> */}\n          <span className=\"material-icons\">\n            home_mini\n          </span>\n        </Link>\n        <Link to=\"/profile\">\n          {/* <p>My Account</p> */}\n          <span className=\"material-icons\">\n            person_outline\n          </span>\n        </Link>\n        <Link to=\"/wishlist\">\n          {/* <p>Wish List</p> */}\n          <span className=\"material-icons\">\n            favorite_border\n          </span>\n        </Link>\n        <Link to=\"/basket\">\n          {/* <p>Basket</p> */}\n          <span className=\"material-icons\">\n            work_outline\n          </span>\n        </Link>\n        {!isLoggedIn ? \n          <div className=\"flex-box\">\n            <Link to=\"/register\">\n              <p className=\"black-outline\">Register</p>\n            </Link>\n            <Link to=\"/login\">\n              <p className=\"black-outline\">Login</p>\n            </Link>\n          </div>\n          :\n          <div className=\"flex-box\">\n            <Link>\n              <p className=\"black-outline\" onClick={handleLogout}>Logout</p>\n            </Link>\n          </div>\n        }\n      </section>\n    </nav>\n  )\n}\n\nexport default Nav","import axios from 'axios'\nimport { getToken } from './auth'\n\nfunction headers() {\n  return {\n    headers: { Authorization: `Bearer ${getToken()}` }\n  }\n}\nconst baseUrl = '/api'\n\n\n// * Pie functions\n\nexport function getAllPies() {\n  return axios.get(`${baseUrl}/pies/`)\n}\n\nexport function createPie(formdata) {\n  return axios.post(`${baseUrl}/pies/`, formdata, headers())\n}\n\nexport function getSinglePie(id) {\n  return axios.get(`${baseUrl}/pies/${id}/`)\n}\n\n// * User functions\n\nexport function getAllUsers() {\n  return axios.get(`${baseUrl}/auth/users/`, headers())\n}\n\nexport function getSingleUser() {\n  return axios.get(`${baseUrl}/auth/profile/`, headers())\n}\n\nexport function editUser(id, formdata) {\n  return axios.put(`${baseUrl}/auth/users/${id}/`, formdata, headers())\n}\n\nexport function registerUser(formdata) {\n  return axios.post(`${baseUrl}/auth/register/`, formdata)\n}\n\nexport function loginUser(formdata) {\n  return axios.post(`${baseUrl}/auth/login/`, formdata)\n}\n\n// * Basket functions\n\nexport function getAllBasketItems() {\n  return axios.get(`${baseUrl}/basket/`, headers())\n}\n\nexport function createBasketItem(pie) {\n  return axios.post(`${baseUrl}/basket/`, pie, headers())\n}\n\nexport function deleteBasketItem(id) {\n  return axios.delete(`${baseUrl}/basket/${id}/`, headers())\n}\n\nexport function updateBasketItem(id, formdata) {\n  return axios.put(`${baseUrl}/basket/${id}/`, formdata, headers())\n}\n\nexport function updateBasket(formdata) {\n  return axios.put(`${baseUrl}/basket/`, formdata, headers())\n}\n\n// * Review functions\n\nexport function addReview(formdata) {\n  return axios.post(`${baseUrl}/reviews/`, formdata, headers())\n}\n\nexport function deleteReview(reviewId) {\n  return axios.delete(`${baseUrl}/reviews/${reviewId}/`, headers())\n}\n\n// * Category functions\n\nexport function getAllCategories() {\n  return axios.get(`${baseUrl}/categories/`)\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Slider from 'react-slick'\nimport SimpleReactLightbox from 'simple-react-lightbox'\n// import { SRLWrapper } from 'simple-react-lightbox'\nimport { getAllPies } from './lib/api'\n\n\n\nfunction PieSlider() {\n\n  const [pies, setPies] = React.useState(null)\n  const [hasError, setHasError] = React.useState(false)\n\n  React.useEffect(() => {\n    const getPies = async () => {\n      try {\n        const { data } = await getAllPies()\n        setPies(data)\n\n      } catch (err) {\n        console.log(err)\n        setHasError(true)\n      }\n    }\n    getPies()\n  }, [])\n\n  const settings = {\n    dots: false,\n    infinite: true,\n    slidesToShow: 3,\n    slidesToScroll: 1,\n    autoplay: true,\n    autoplaySpeed: 4000,\n    pauseOnHover: true\n  }\n\n  const myPies = []\n\n  const arrayPies = () => {\n    if (pies) {\n      for (let i = 0; i <= pies.length; i++) {\n        if (i === 1 || i === 6 || i === 7 || i === 8\n          || i === 10) {\n          myPies.push(pies[i])\n        }\n      }\n    }\n  }\n  arrayPies()\n  console.log(myPies)\n \n\n\n\n  return (\n    <SimpleReactLightbox>\n      <div className=\"slider-container\">\n        <h4 className=\"pies-list\"></h4>\n        {pies ?\n          // <SRLWrapper options={options}>\n          <Slider {...settings}>\n            {myPies.map(pie => (\n              <div className=\"card\" key={pie.id}>\n                <div className=\"homepage-card-name\">\n                  \n                  <div className=\"ui-card img-wrapper\">\n                    <Link to={`/pies/${pie.id}/`}>\n                      <img key={pie.id} className=\"images\" src={pie.image} />\n                      <div className=\"homepage-card-overlay\">\n                        {pie.name}\n                      </div>\n                    </Link>\n                  </div>\n\n                </div>\n\n              </div>\n            ))}\n          </Slider>\n          // </SRLWrapper>\n          :\n          <h2 className=\"title has-text-centered\">\n            {hasError ? 'There was An Error' : '...loading '}\n          </h2>\n        }\n      </div>\n    </SimpleReactLightbox >\n  )\n}\n\n\nexport default PieSlider","import React from 'react'\nimport PieSlider from '../PieSlider'\n\nfunction Home() {\n\n  return (\n    <main className=\"homepage\">\n      <h1 className=\"noto-sans\">Welcome to PIEKEA</h1>\n      <p className=\"slogan\">Online store for fresh baked pies and custom creations. You can even build your own!</p>\n      <section className=\"yellow-background order-online\">\n        <h3>Order online to collect safely in store, or for home delivery</h3>\n        <p>Whilst our stores are temporarily closed you can still browse for baking inspiration, book an online planning appointment, and place orders for contact-free delivery or click and collect.</p>\n        <button>Read more</button>\n      </section>\n      <div className=\"homepage-slider-section\">\n        <h2 className=\"noto-sans\">Pie Taster Selectiön</h2>\n        <PieSlider />\n      </div>\n    </main>\n    \n  )\n}\n\nexport default Home","import React from 'react'\nimport { Link } from 'react-router-dom'\n// import { isAuthenticated } from './lib/auth'\nimport { getSingleUser } from './lib/api'\n// import { getPayload, getToken } from './lib/auth'\n\nfunction Profile() {\n\n  // const isLoggedIn = isAuthenticated()\n  const [user, setUser] = React.useState(null)\n  //const [hasError, setHasError] = React.useState(false)\n\n  // const { id } = useParams()\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleUser()\n        setUser(data)\n\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n  return (\n    <main className=\"profile-page\">\n      <h1 className=\"noto-sans\">My Åccöunt</h1>\n      {user ?\n        <section className=\"box\">\n          <h2>Hello, {user.firstName} {user.lastName}!</h2>\n          <figure>\n            {user.profileImage ?\n              <img src={user.profileImage} alt=\"profile image\" />\n              :\n              <img src=\"../images/defaultImage.jpg\" alt=\"profile image\" />\n            }\n          </figure>\n          <h3>Your details are shown below:</h3>\n          <h4>Username: {user.username}</h4>\n          <h4>Email address: {user.email}</h4>\n          <h4>Address: {user.address}</h4>\n          <h4>Phone number: {user.phoneNumber}</h4>\n        </section>\n        :\n        <div>\n          <Link to=\"/register\">Register </Link>\n          or\n          <Link to=\"/login\"> Login </Link> to view your account details.\n        </div>\n      }\n    </main>\n  )\n}\n\nexport default Profile","import React from 'react'\n// import { isAuthenticated } from './lib/auth'\nimport { getSingleUser } from './lib/api'\nimport { Link } from 'react-router-dom'\n\nfunction Wishlist() {\n  // const isLoggedIn = isAuthenticated()\n  const [user, setUser] = React.useState(null)\n  //const [hasError, setHasError] = React.useState(false)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleUser()\n        setUser(data)\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n  console.log(user)\n\n  return (\n    <main>\n      <h1 className=\"noto-sans\">Wish List</h1>\n      <p>Manage your <u>Wish lists</u></p>\n      <section className=\"wishlist\">\n        {user ?\n          <ul>\n            {user.favourites.map(fav => {\n              return (\n                <li key={fav.id} className=\"box\">\n                  <Link to={`pies/${fav.id}`} className=\"flex-box space-between\">\n                    <figure>\n                      <img src={fav.image} alt={fav.name} />\n                    </figure>\n                    <div>\n                      <h3>{fav.name}</h3>\n                      <h4>£{fav.price.toFixed(2)}</h4>\n                      <p>{fav.description}</p>\n                    </div>\n                  </Link>\n                  \n                </li>\n              )\n            })}\n          </ul>\n          :\n          <p>Loading...</p>\n        }\n      </section>\n    </main>\n  )\n}\n\nexport default Wishlist","import React from 'react'\n\nfunction useForm(initialState) {\n  const [formdata, setFormdata] = React.useState(initialState)\n  const [errors, setErrors] = React.useState(initialState)\n\n  const handleChange = event => {\n    const value = event.target.type === 'checkbox' ? JSON.parse(event.target.value) : event.target.value\n    \n    const nextState = { ...formdata, [event.target.name]: value }\n    const nextErrorState = { ...errors, [event.target.name]: '' }\n  \n    setFormdata(nextState)\n    setErrors(nextErrorState)\n  }\n\n  return {\n    formdata,\n    setFormdata,\n    errors,\n    handleChange,\n    setErrors\n  }\n}\nexport default useForm\n","import React from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport useForm from '../../utils/useForm'\nimport { loginUser } from '../lib/api'\nimport { setToken } from '../lib/auth'\nimport { Button, Form } from 'semantic-ui-react'\n\nfunction Login() {\n  const history = useHistory()\n  const [error, setError] = React.useState(false)\n  const { formdata, handleChange } = useForm({\n    email: '',\n    password: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n\n    try {\n      const { data } = await loginUser(formdata)\n      setToken(data.token)\n      history.push('/pies')\n    } catch (err) {\n      setError(true)\n    }\n  }\n\n\n\n  const handleFocus = () => {\n    setError(false)\n  }\n\n  return (\n    <main className=\"narrow-page box\">\n      <div className=\"ui container slide-in\">\n      \n        <section className=\"login-form-container\">\n          <div className=\"container-for-login\">\n            <h1 className=\"noto-sans\">Login</h1>\n            <div className=\"form-box ui form error\">\n\n              <Form\n                onSubmit={handleSubmit}\n                className=\"login-form\">\n\n                <Form.Field>\n                  <label>Email</label>\n                  <input\n                    className=\"login-input\"\n                    placeholder=\"Email\"\n                    onChange={handleChange}\n                    name=\"email\"\n                    value={formdata.email}\n                    onFocus={handleFocus}\n                  />\n                </Form.Field>\n\n                <Form.Field>\n                  <label>Password</label>\n                  <input\n                    className=\"login-input\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    onChange={handleChange}\n                    name=\"password\"\n                    value={formdata.password}\n                    onFocus={handleFocus}\n                  />\n                </Form.Field>\n\n                {error &&\n            <div className=\"ui error message small\">\n              <div className=\"header\">Incorrect Password or Email</div>\n              <p>Sorry, your username or password are incorrect.</p>\n            </div>\n                }\n\n\n                <div className=\"login-button\">\n                  <Button type=\"submit\">\n              Log In\n                  </Button>\n              \n                </div>\n                <p className=\"register-link\">Don&apos;t have an account? Sign up <Link to=\"/register\">here</Link></p>\n\n              </Form>\n            </div>\n          </div>\n        </section>\n      </div>\n    </main>\n    \n\n  // <main>\n  //   <h1>Login</h1>\n  //   <form>\n  //     <div>\n  //       <label>Email</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"text\" placeholder=\"Email\"/>\n  //     </div>\n  //     <br />\n  //     <div>\n  //       <label>Password</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"password\" placeholder=\"Password\"/>\n  //     </div>\n  //   </form>\n  // </main>\n  )\n}\n\nexport default Login","import React from 'react'\nimport useForm from '../../utils/useForm'\nimport { registerUser } from '../lib/api'\nimport { useHistory , Link } from 'react-router-dom'\nimport { Button, Form, Divider } from 'semantic-ui-react'\n\nfunction Register() {\n\n  const history = useHistory()\n  const { formdata, errors, handleChange, setErrors } = useForm({\n    username: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    passwordConfirmation: ''\n  })\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n\n    try {\n      console.log(formdata)\n      await registerUser(formdata)\n      history.push('/login')\n    } catch (err) {\n      setErrors(err.response.data.errors)\n    }\n  }\n\n  return (\n    <main className=\"narrow-page box\">\n      <div className=\"ui container fly-in\">\n        <section className={`register-form-container ${errors ? 'register-error-form-container ' : ''}`}>\n          <h1 className=\"noto-sans\">Sign Up</h1>\n          <div className=\"form-box ui form error\">\n            <Form\n              onSubmit={handleSubmit}>\n\n\n              <Divider />\n\n              <Form.Field>\n                <label>Username</label>\n                <input\n                  placeholder=\"Username\"\n                  onChange={handleChange}\n                  name=\"username\"\n                  value={formdata.username}\n                />\n              </Form.Field>\n\n\n              {errors && errors.username &&\n                <div className=\"ui error message small\">\n                  <p>Username is Required</p>\n                </div>\n              }\n\n              <Form.Group className=\"name-errors\">\n                <Form.Field>\n                  <label>First Name</label>\n                  <input\n                    placeholder=\"First Name\"\n                    onChange={handleChange}\n                    name=\"firstName\"\n                    value={formdata.firstName}\n                  />\n                </Form.Field>\n\n\n                <Form.Field>\n                  <label>Last Name</label>\n                  <input\n                    placeholder=\"Last Name\"\n                    onChange={handleChange}\n                    name=\"lastName\"\n                    value={formdata.lastName}\n                  />\n                </Form.Field>\n\n              </Form.Group>\n\n              <div className=\"name-errors-form\">\n\n                <div className=\"first-name\">\n                  {errors && errors.firstName &&\n                    <div className=\"ui error message small\">\n                      <p>First Name is Required</p>\n                    </div>\n                  }\n                </div>\n\n\n                <div className=\"last-name\">\n                  {errors && errors.lastName &&\n                    <div className=\"ui error message small\">\n                      <p>Last Name is Required</p>\n                    </div>\n                  }\n                </div>\n              </div>\n\n              <Form.Field>\n                <label>Email</label>\n                <input\n                  placeholder=\"Email\"\n                  onChange={handleChange}\n                  name=\"email\"\n                  value={formdata.email}\n                />\n              </Form.Field>\n\n\n\n              {errors && errors.email &&\n                <div className=\"ui error message small\">\n                  <p>Email is Required</p>\n                </div>\n              }\n\n              <Form.Field>\n                <label>Password</label>\n                <input\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  onChange={handleChange}\n                  name=\"password\"\n                  value={formdata.password}\n                />\n              </Form.Field>\n\n\n\n              {errors && errors.password &&\n                <div className=\"ui error message small\">\n                  <p>Password is Required</p>\n                </div>\n              }\n\n              <Form.Field>\n                <label>Password Confirmation</label>\n                <input\n                  type=\"password\"\n                  placeholder=\"Password Confirmation\"\n                  onChange={handleChange}\n                  name=\"passwordConfirmation\"\n                  value={formdata.passwordConfirmation}\n                />\n              </Form.Field>\n\n\n\n              {errors && errors.passWordConfirmation &&\n                <div className=\"ui error message small\">\n                  <p>The Password doesnt match</p>\n                </div>\n              }\n\n\n\n              <div className=\"sign-up-button\">\n                <Button type=\"submit\">\n                  Sign Up\n                </Button>\n              </div>\n              <p className=\"register-link\">Already have an account? Login <Link to=\"/login\">here</Link></p>\n            </Form>\n          </div>\n        </section>\n      </div>\n    </main>\n    \n  \n\n  // <main>\n  //   <h1>Register a New Account</h1>\n  //   <form>\n  //     <div>\n  //       <label>Username</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"text\" placeholder=\"Username\"/>\n  //     </div>\n  //     <br />\n  //     <div>\n  //       <label>Email</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"text\" placeholder=\"Email\"/>\n  //     </div>\n  //     <br />\n  //     <div>\n  //       <label>Password</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"password\" placeholder=\"Password\"/>\n  //     </div>\n  //     <br />\n  //     <div>\n  //       <label>Password Confirmation</label>\n  //     </div>\n  //     <div>\n  //       <input type=\"password\" placeholder=\"Password Confirmation\"/>\n  //     </div>\n  //     <br />\n  //   </form>\n  // </main>\n  )\n}\n\nexport default Register","import React from 'react'\n\nfunction useEditQuantityForm(initialState) {\n  const [formdata, setFormdata] = React.useState(initialState)\n  const [errors, setErrors] = React.useState(initialState)\n  const handleChange = event => {\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value\n    // const nextState = { ...formdata, [event.target.name]: value }\n    // const editedObject = { ...formdata[event.target.id], [event.target.name]: value }\n    const editingArray = [...formdata]\n    //formdata[event.target.id] = editingArray\n    editingArray[event.target.id].quantity = value\n    \n    // console.log('formdata', formdata)\n    const nextErrorState = { ...errors, [event.target.name]: '' }\n    setFormdata(editingArray)\n    console.log('formdata', formdata)\n    setErrors(nextErrorState)\n  }\n\n  return {\n    formdata,\n    setFormdata,\n    errors,\n    handleChange,\n    setErrors\n  }\n}\nexport default useEditQuantityForm","import React from 'react'\nimport useEditQuantityForm from '../utils/useEditQuantityForm'\nimport { getAllBasketItems, deleteBasketItem, updateBasketItem, getSingleUser, editUser } from './lib/api'\nimport { getPayload } from './lib/auth'\n//import { Link } from 'react-router-dom'\n//import { Button } from 'semantic-ui-react'\n\n\nfunction Basket() {\n  const [basketItems, setBasketItems] = React.useState(null)\n  const [user, setUser] = React.useState(null)\n  // const [itemQuantity, setItemQuantity] = React.useState(null)\n  //const [hasError, setHasError] = React.useState(false)\n  \n  const { formdata, setFormdata, handleChange } = useEditQuantityForm({\n    quantity: ''\n  })\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllBasketItems()\n        setBasketItems(data) \n        setFormdata(data)\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleUser()\n        setUser(data)\n\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n  const payload = getPayload()\n\n\n  const handleRemoveFromBasket = async (event) => {\n    try {\n      await deleteBasketItem(event.target.id)\n      const { data } = await getAllBasketItems()\n      setBasketItems(data) \n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  console.log('basket items', basketItems)\n  const handleEditFromBasket = async (event) => {\n    try {\n      await updateBasketItem(event.target.id, formdata[parseInt(event.target.className)]) \n      const { data } = await getAllBasketItems()\n      setBasketItems(data)\n      console.log(event.target.className)\n      console.log(typeof(parseInt(event.target.className)))\n      // basketItems[position].quantity = event.target.value\n      // await updateBasketItem(event.target.id)\n      // const { data } = await getAllBasketItems()\n      // setBasketItems(data) \n      console.log(updateBasketItem)\n      // console.log(updateBasketItem)\n      //console.log('basket item number', event.target.id)\n      // console.log(event.target.value)\n      // event.target.value = ''\n      // event.target.value = event.nativeEvent.data\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  console.log('From basket js', formdata)\n  \n  const handleAddToWishlist = async (event) => {\n    const favIds = user.favourites.map(fav => {\n      return fav.id\n    })\n    await editUser(payload.sub, { favourites: [ ...favIds, event.target.id ] })\n  }\n\n  return (\n    <main className=\"narrow-page\">\n      <h1 className=\"noto-sans\">Shöpping Bag</h1>\n      <p>Please review and cofirm your order.</p>\n      \n      {basketItems && basketItems.length > 0 ?\n        <div className=\"checkout-basket\">\n          {basketItems.map((item, index) => {\n            return (\n              <div className=\"flex-box basket-item\" key={item.id}>\n                <figure>\n                  <img src={item.product.image} alt={item.product.name} />\n                </figure>\n                <div>\n                  <h3>{item.product.name}</h3>\n                  <p><strong>£{item.product.price.toFixed(2)}</strong></p>\n                  {item.product.categories.length > 0 ?\n                    <ul>\n                      {item.product.categories.map(category => {\n                        return (\n                          <li key={category.id}>{category.name}</li>\n                        )\n                      })}\n                    </ul>\n                    :\n                    <ul></ul>\n                  }\n                  <div className=\"change-quantity\">\n                    <p>Quantity: </p>\n                    <input \n                      placeholder={item.quantity}\n                      onChange={handleChange} \n                      id={index} \n                      name=\"quantity\" \n                      type=\"number\" \n                      max=\"15\"\n                      min=\"1\"\n                      value={formdata.quantity} \n                    />\n                    <button \n                      onClick={handleEditFromBasket} \n                      id={item.id} \n                      className={index} \n                    >Update item</button>\n                  </div>\n                  <p onClick={handleRemoveFromBasket} id={item.id} className=\"remove-add-btn\">Remove</p>\n                  <p onClick={handleAddToWishlist} id={item.product.id}className=\"remove-add-btn\">Add to your wish list</p>\n                </div>\n              </div>\n            )\n          })\n          }\n          <h2>Order summary</h2>\n          <div className=\"space-between black-underline\">\n            <p>Total service cost</p>\n            <p>Excluding service cost</p>\n          </div>\n          <div className=\"space-between align-center\">\n            <p><strong>Subtotal Inc VAT</strong></p> \n            <p className=\"total\">£{basketItems.reduce((acc, curr) => {\n              return acc + (curr.product.price * curr.quantity)\n            }, 0).toFixed(2)}\n            </p>\n          </div>\n          \n          <button className=\"blue-background checkout-btn\">Continue to checkout</button>\n          <h5>↩︎ 365 days to change your mind</h5>\n          <h5>⎋ Secure shopping with SSL data encryption</h5>\n        </div>\n        :\n        <p>Your basket is empty...</p>\n      }\n      \n    </main>\n  )\n}\n\nexport default Basket","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { getAllPies, getAllCategories } from './lib/api'\n\nfunction Index() {\n\n  //const [selection, setSelection] = React.useState([])\n  const [pies, setPies] = React.useState(null)\n  const [categories, setCategories] = React.useState(null)\n  //const [hasError, setHasError] = React.useState(false)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllPies()\n        setPies(data)\n\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllCategories()\n        setCategories(data)\n\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n\n  // const handleFilterPies = (event, button) => {\n  //   let select = selection\n  //   if (pies) {\n  //     select.includes(button)\n  //     setSelection()\n  //   const results = pies.filter(pie => {\n  //     return pie.categories.includes(parseInt(event.target.id))\n  //   })\n  //   setPies(results)\n  // }\n  // }\n\n\n  const handleFilterPies = (event) => {\n    const results = pies.filter(pie => {\n      return pie.categories.includes(parseInt(event.target.id))\n    })\n    setPies(results)\n  }\n\n  const handleClearFilter = async () => {\n    const { data } = await getAllPies()\n    setPies(data)\n  }\n\n  return (\n    <main>\n      <div className=\"bread-crumbs\">\n        <p>Bakery </p>\n        <p>\n          <span className=\"material-icons\">keyboard_arrow_right</span>\n        </p>\n        <p>Pies</p>\n      </div>\n      <h1 className=\"noto-sans\">Äll Pies</h1>\n      {categories ?\n        <div className=\"categories-wrapper\">\n          {categories.map(category => {\n            return <button key={category.id} id={category.id} onClick={handleFilterPies}>{category.name}</button>\n          })}\n          <button onClick={handleClearFilter} className=\"clear-btn\">Clear Selection</button>\n        </div>\n        :\n        <div>Filters loading...</div>\n      }\n      <br />\n      {pies && pies.length > 0 ?\n        <section className=\"product-index\">\n          {pies.map(pie => {\n            return (\n              <div className=\"box product\" key={pie.id}>\n                <Link to={`pies/${pie.id}`}>\n                  <div className=\"space-between\">\n                    <h3>{pie.name}</h3>\n                    <p>£{pie.price.toFixed(2)}</p>\n                  </div>\n                  <figure>\n                    <img src={pie.image} alt={pie.name} />\n                  </figure>\n                </Link>\n              </div>\n            \n            )\n\n          })}\n        </section>\n        :\n        <p>There are no pies that match your search.</p>\n      }\n    </main>\n  )\n}\n\nexport default Index","import React from 'react'\nimport { getSinglePie, createBasketItem, addReview, deleteReview, getSingleUser, editUser } from './lib/api'\n\nimport useForm from '../utils/useForm'\nimport { isAuthenticated, getPayload } from './lib/auth'\nimport { useParams, Link, useHistory } from 'react-router-dom'\n\nimport {\n  //Checkbox,\n  //Button,\n  Comment\n  //Form\n} from 'semantic-ui-react'\n\nfunction Show() {\n  const [pie, setPie] = React.useState(null) \n  //const [reviews, setReviews] = React.useState(null)\n  //const [newReview, setNewReview] = React.useState() \n  //const [hasError, setHasError] = React.useState(false)\n  const [user, setUser] = React.useState(null)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSingleUser()\n        setUser(data)\n\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [])\n\n  const { id } = useParams()\n  const payload = getPayload()\n  const { formdata, handleChange } = useForm({\n    text: '',\n    rating: '',\n    pie: id,\n    owner: payload.sub\n  })\n\n  const history = useHistory()\n\n  const isLoggedIn = isAuthenticated()\n\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getSinglePie(id)\n        setPie(data)\n        //if (data.reviews) {\n        //setReviews(data.reviews)\n        //}\n      } catch (err) {\n        console.log(err)\n        //setHasError(true)\n      }\n    }\n    getData()\n  }, [id])\n\n  const handleAddToWishlist = async () => {\n    const favIds = user.favourites.map(fav => {\n      return fav.id\n    })\n    await editUser(payload.sub, { favourites: [ ...favIds, pie.id ] })\n  }\n\n  const handleAddToBasket = async () => {\n    try {\n      await createBasketItem({\n        quantity: 1,\n        product: id\n      })\n      history.push('/basket')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const handleAddReview = async event => {\n    event.preventDefault()\n    try {\n      await addReview(formdata)\n      const { data } = await getSinglePie(id)\n      setPie(data)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const handleDeleteReview = async (reviewId) => {\n    try {\n      await deleteReview(reviewId)\n      const { data } = await getSinglePie(id)\n      setPie(data)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  //formdata.text = ''\n  //event.target[5].value = ''\n  //console.log(event.value)\n  //setNewReview({ id, formdata })\n  //setFormdata({ text: '' })\n  // const handleDeleteReview = async event => {\n  //   event.preventDefault()\n  //   try {\n  //     const reviewId = event.target.name\n  //     await deleteReview(id, reviewId)\n  //     //setNewReview({ id, formdata })\n  //     // setRefreshData(true)\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  // console.log(pie)\n  return (\n    <main className=\"show-page\">\n      {pie ?\n        \n        <section className=\"box\">\n          <div className=\"flex-box\">\n            <figure>\n              <img src={pie.image} alt={pie.name} />\n            </figure>\n            <div>    \n              <h1>{pie.name}</h1>\n              <h3>Now only £{pie.price.toFixed(2)}!</h3>\n              <p>{pie.description}</p>\n              <section className=\"flex-box align-center space-between\">\n                {pie.categories && pie.categories.length > 0 ?\n                  <ul>\n                    {pie.categories.map(category => {\n                      return <li key={category.id}><Link \n                        to={'/pies'}>{category.name}\n                      </Link></li>\n                    })}\n                  </ul>\n                  :\n                  <ul></ul>\n                }\n                <div className=\"flex-box justify-center fav-btn\">\n                  <p onClick={handleAddToWishlist}>\n                    <span className=\"material-icons\">\n                      favorite_border\n                    </span>\n                  </p>\n                </div>\n              </section>\n            </div>\n          </div>\n          <Link to={`/pies/${id}/customise/`}>\n            <button className=\"yellow-background checkout-btn customise-btn\">Customise this pie</button>\n          </Link>\n          <button onClick={handleAddToBasket} className=\"blue-background checkout-btn\">Add to shopping bag</button>\n          <h2>What customers are saying about {pie.name}:</h2>\n          <div className=\"showpage-reviews-wrapper\">\n            <>\n              <Comment.Group>\n                {pie.reviews && pie.reviews.length > 0 ? \n                  pie.reviews.map(review => (\n                    <Comment key={review.id} value={review.id} className=\"box review\">\n                      <Comment.Avatar\n                        src={review.owner.profileImage} className=\"avatar\" />\n                      <Comment.Content>\n                        {/* <Comment.Author as='a'>{review.owner.username}</Comment.Author> */}\n                        <Comment.Metadata>\n                          <h4>{review.owner.username}</h4>\n                          <div>{review.createdAt.slice(0, 10)}</div>\n                        </Comment.Metadata>\n                        <Comment.Text>{review.text}</Comment.Text>\n                        <Comment.Text>{'★'.repeat(review.rating)} </Comment.Text>\n                        {/* {isOwner(review.owner ? review.owner.id : '') && */}\n                        <button onClick={() => handleDeleteReview(review.id)}>Delete</button>\n                        {/* } */}\n                      </Comment.Content>\n                    </Comment>\n                  ))\n                  :\n                  <div>\n                    Be the first to review this delicious pie!\n                  </div>\n                }\n                {isLoggedIn && \n                <form onClick={handleAddReview} className=\"review-form\">\n                  <div>\n                    <label>Review our {pie.name}</label>\n                  </div>\n                  <div>  \n                    <textarea\n                      onChange={handleChange}\n                      name=\"text\"\n                      value={formdata.text}\n                      placeholder=\"Leave a review...\" /> \n                  </div>\n                  <div>\n                    <label>Rate from 1 to 5</label>\n                  </div>\n                  <div>\n                    <input \n                      type=\"number\" \n                      onChange={handleChange}\n                      name=\"rating\"\n                      min=\"1\"\n                      max=\"5\"\n                      placeholder=\"★\"\n                      value={formdata.rating} />\n                  </div>\n                  \n                  <button className=\"yellow-background\">Submit Review</button>\n                  {/* <Button content='Add Reply'\n                    position='right'\n                    labelPosition='left' icon='edit' primary /> */}\n                </form>\n                }\n              </Comment.Group>\n            </>\n          </div>\n            \n          \n        </section>\n        :\n        <section>\n          <div>Loading...</div>\n        </section>\n      } \n    </main>\n  )\n}\nexport default Show","import React from 'react'\nimport { getAllCategories } from './lib/api'\n//import { Link } from 'react-router-dom'\n\n\nfunction PieForm({ handleChange, handleSubmit, formdataCategories }) {\n  const [categories, setCategories] = React.useState([])\n\n  \n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const { data } = await getAllCategories()\n        // const dataArr = []\n        // for (let i = 0; data.length; i++) {\n        //   dataArr.push(data[i])\n        // }\n        setCategories(data)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getData()\n  }, [])\n\n  //console.log('Errors: ', errors)\n  //console.log('This is formdataCategories:', formdataCategories)\n\n  return (\n    <form onSubmit={handleSubmit} className=\"customise-form\">\n      <h3 className=\"light-blue-background\">Categories</h3>\n      <section>\n        {categories && formdataCategories ?\n          categories.map(category => {\n            return (\n              <div key={category.id}>\n                <label>{category.name} </label>\n                <input \n                  type=\"checkbox\" \n                  onChange={handleChange} \n                  value={JSON.stringify(category)}\n                  checked={formdataCategories.some(object => object.name === category.name)}\n                />\n              </div>\n            \n            )\n          })\n          :\n          <label>No options available</label>\n        }\n        <button type=\"submit\" className=\"checkout-btn blue-background\" onClick={handleSubmit}>Add to basket</button>\n      </section>\n    </form>\n  )\n}\n\nexport default PieForm","import React from 'react'\n\nfunction useCheckoutForm(initialState) {\n  const [formdata, setFormdata] = React.useState(initialState)\n  const [errors, setErrors] = React.useState(initialState)\n\n  const handleChange = event => {\n    const value = event.target.type === 'checkbox' ? JSON.parse(event.target.value) : event.target.value\n    // if (!event.target.checked) {\n    //   value = null\n    // }\n    //const nextState = [...formdata.categories, value]\n    // const nextState = [formdata.categories, value].flat()\n    //{ ...formdata, [event.target.name]: value }\n\n    // * Write some logic here that checks if the object is already in the array. If it IS, then REMOVE it from the array.\n\n    const nextState = { ...formdata, categories: [...formdata.categories, value] }\n    //console.log(nextState)\n\n\n    const nextErrorState = { ...errors, [event.target.name]: '' }\n    \n    setFormdata(nextState)\n    setErrors(nextErrorState)\n  }\n\n  return {\n    formdata,\n    setFormdata,\n    errors,\n    handleChange,\n    setErrors\n  }\n}\nexport default useCheckoutForm","import React from 'react'\nimport { getSinglePie, createPie, createBasketItem } from './lib/api'\nimport { useParams, useHistory } from 'react-router-dom'\n\n\nimport PieForm from './PieForm'\nimport useCheckboxForm from '../utils/useCheckboxForm'\n\nfunction PieCreate() {\n  const { id } = useParams()\n  const history = useHistory()\n\n  const { formdata, setFormdata, handleChange, setErrors } = useCheckboxForm({\n    categories: []\n  })\n  // ({\n  //   categories: []\n  // })\n\n  React.useEffect(() => {\n    const getData = async () => {\n      const { data } = await getSinglePie(id)\n      setFormdata(data)\n    } \n    getData()\n  }, [id, setFormdata])\n  \n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    const unPopulatedCategories = formdata.categories.map(object => {\n      return object.id\n    })\n    try {\n      const { data } = await createPie({ ...formdata, name: `Custom ${formdata.name}`, price: `${formdata.price + 10}`, reviews: [], categories: unPopulatedCategories, image: 'https://farm9.staticflickr.com/8333/8391597635_2af90bd702.jpg' })\n      handleAddToBasket(data)\n    } catch (err) {\n      setErrors(err.response.data.errors)\n    }\n  }\n\n  const handleAddToBasket = async (data) => {\n    try {\n      await createBasketItem({\n        quantity: 1,\n        product: data.id\n      })\n      history.push('/basket')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n    \n  return (\n    <main>\n      <h1 className=\"form-heading blue-font\">Build Your Own {formdata.name}*</h1>\n      <p className=\"grey-font\">*Some assembly required.</p>\n      <PieForm \n        formdataCategories={formdata.categories}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n      />\n    </main>\n    \n  )\n}\n\nexport default PieCreate","import React from 'react'\nimport { getAllPies } from './lib/api'\nimport { Container } from 'semantic-ui-react'\nimport { useParams, Link } from 'react-router-dom'\nimport { CSSGrid, layout } from 'react-stonecutter'\n\nfunction PieCategories() {\n\n  const [pies, setPies] = React.useState([])\n  const [activeCategory] = React.useState('View All')\n\n  useParams()\n  //const { id } = useParams()\n\n  React.useEffect(() => {\n    const getPies = async () => {\n      try {\n        const { data } = await getAllPies()\n        setPies(data)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getPies()\n  }, [])\n\n  const filterPies = async (e) => {\n    const filteredPies = pies.filter(pie => {\n      return pie.categories.filter(category => {\n        return category.name === e.target.innerHTML\n      })\n    })\n    setPies(filteredPies)\n    if (activeCategory === 'View All') {\n      return pies\n    } \n  }\n  // else {\n  //   const filteredPies = pies.filter(pie => {\n  //     return pie.categories.filter(category => {\n  //       return category.name === e.target.innerHTML\n  //     })\n  //   })\n  // }\n\n  // const filteredPies = (pies) => {\n  //   pies.filter(pie => {\n  //     return pie.category === pies.category\n  //   })\n  //   return pies\n  // }\n  \n  // const filterPies = (category) => {\n  //   if (category === 'View All') {\n  //     return pies\n  //   } else {\n  //     return pies.filter(pie => {\n  //       return pie.tags.includes(category)\n  //     })\n  //   }\n  // }\n\n  // const selectedCategory = (e) => {\n  //   const value = e.target.innerHTML.replace('&amp;', '&')\n  //   setActiveCategory(value)\n  // }\n    \n\n  // const filterPies = (selection) => {\n  //   if (activeCategory === 'View All') {\n  //     return pies\n  //   } else {\n  //     const filteredPies = pies.filter(pie => {\n  //       return pie.categories.filter(category => {\n  //         return category.name === selection\n  //       })\n  //     })\n  //     return filteredPies\n  //   }\n  // }\n\n  // const filterPies = (selection) => {\n  //   if (selection === 'View All') {\n  //     return pies\n  //   } else {\n  //     const filteredPies = pies.filter(pie => {\n  //       return pie.categories.filter(category => {\n  //         return category.name === selection\n  //       })\n  //     })\n  //     return filteredPies\n  //   }\n  // }\n\n  // const selectedCategory = async (e) => {\n  //   //const value = e.target.innerHTML\n  //   //.replace('&amp;', '&')\n  //   await setActiveCategory(e.target.innerHTML)\n  // }\n\n  const categoryList = [\n    'View All',\n    'Sweet',\n    'Savoury',\n    'Cherry',\n    'Apple',\n    'Meat',\n    'Chicken',\n    'Pumpkin',\n    'Lemon',\n    'Pecan',\n    'Lamb',\n    'Beef',\n    'Pork',\n    'Fish',\n    'Vegetable',\n    'Berry',\n    'Fruit',\n    'Nuts'\n  ]\n\n  //filterPies(category)\n\n  const itemHeights = [\n    300, 330, 270, 250\n  ]\n  const randomHeight = () => {\n    const randomIndex = Math.floor(Math.random() * itemHeights.length)\n    return itemHeights[randomIndex]\n  }\n  console.log(randomHeight())\n\n\n\n  return (\n    <Container>\n      <section>\n        <div\n          className=\"category-page-tags\"\n          onClick={filterPies}>\n          {categoryList.map(categoryTag => (\n            <Link\n              key={categoryTag}\n              to={`/pies/category/${categoryTag}`}\n              className=\"category-tag\">\n              <div className=\"category-tag\">\n                <div className={activeCategory === categoryTag ? 'ui olive label category-tag' : 'ui label category-tag'} \n                >{categoryTag}</div>\n              </div>\n            </Link>\n          ))}\n        </div>\n\n        <div className=\"ui divider\">\n        </div>\n\n\n        <div className=\"grid-wrapper\">\n          {pies ?\n            <CSSGrid\n              component=\"div\"\n              columnWidth={290}\n              gutterWidth={50}\n              gutterHeight={50}\n              layout={layout.pinterest}\n              duration={800}\n              columns={3}\n              easing=\"ease-out\"\n            >\n              {pies.map((pie =>\n                <div key={pie.name} itemHeight={270}>\n                  <Link\n                    to={`/pies/${pie.id}`}\n                    key={pies.name}>\n                    <div key={pie.name} itemHeight={270} className=\"category-card\">\n                      <img className=\"category-card-image\" src={pie.image} />\n                      <div className=\"category-card-content\">\n                        <div className=\"ui header category-card-header\">\n                          {pie.name}\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              ))}\n            </CSSGrid>\n            :\n            <div>Loading</div>\n          }\n        </div>\n      </section >\n    </Container >\n  )\n\n}\n\nexport default PieCategories","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Nav from './components/common/Nav'\nimport Home from './components/common/Home'\nimport Profile from './components/Profile'\nimport Wishlist from './components/Wishlist'\nimport Login from './components/auth/Login'\nimport Register from './components/auth/Register'\nimport Basket from './components/Basket'\nimport Index from './components/Index'\nimport Show from './components/Show'\nimport PieCreate from './components/PieCreate'\nimport PieCategories from './components/PieCategories'\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      <Nav />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/pies/category/:id\" component={PieCategories} />\n        <Route path=\"/pies/:id/customise\" component={PieCreate} />\n        <Route path=\"/pies/:id\" component={Show} />\n        <Route path=\"/profile\" component={Profile} />\n        <Route path=\"/wishlist\" component={Wishlist} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/basket\" component={Basket} />\n        <Route path=\"/pies\" component={Index} />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'semantic-ui-css/semantic.min.css'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}